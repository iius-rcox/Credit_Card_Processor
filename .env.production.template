# Credit Card Processor - Production Environment Template
# =====================================================
# This template provides production-ready configuration values
# Copy this file to .env and customize for your production environment
# 
# SECURITY CRITICAL: 
# - All secrets MUST be changed before deployment
# - Never use default or example values in production
# - Store sensitive values in Azure Key Vault where possible
# - Regularly rotate all secret keys and credentials
# 
# Azure Infrastructure References:
# - Resource Group: rg-iius-dev
# - Location: southcentralus
# - AKS Cluster: dev-aks
# - Container Registry: iiusacr.azurecr.io
# - Key Vault: iius-akv
# - Document Intelligence: iius-doc-intelligence
# =====================================================

# =====================================================
# CRITICAL SECURITY SETTINGS - MUST CONFIGURE
# =====================================================

# Admin Users - Production usernames (case-insensitive)
# Use actual production user accounts, never test/demo accounts
# Example: ADMIN_USERS=john.doe,jane.smith,system.admin
ADMIN_USERS=CHANGE_ME_PRODUCTION_ADMIN_USERS

# Session Secret Key - MUST be unique and cryptographically secure
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
# Store in Azure Key Vault: az keyvault secret set --vault-name iius-akv --name session-secret-key --value "YOUR_KEY"
SESSION_SECRET_KEY=CHANGE_ME_GENERATE_SECURE_64_CHAR_KEY

# Production Frontend URLs - Your actual domains
# Include all production domains (www, api subdomains, CDN, etc.)
# Example: CORS_ORIGINS=https://creditcard.company.com,https://www.creditcard.company.com
CORS_ORIGINS=CHANGE_ME_PRODUCTION_FRONTEND_URLS

# Trusted Production Hosts - Your actual domains
# Include all domains serving the application
# Example: TRUSTED_HOSTS=creditcard.company.com,*.company.com,api.company.com
TRUSTED_HOSTS=CHANGE_ME_PRODUCTION_DOMAINS

# =====================================================
# AZURE INTEGRATION - PRODUCTION CONFIGURATION
# =====================================================

# Azure Document Intelligence - Production Service
# Use your production Azure Document Intelligence resource
AZURE_DOCUMENT_INTELLIGENCE_ENDPOINT=https://iius-doc-intelligence.cognitiveservices.azure.com/
AZURE_DOCUMENT_INTELLIGENCE_KEY=CHANGE_ME_AZURE_DOC_INTELLIGENCE_KEY

# Custom Model IDs - Production trained models
# Deploy custom models to production and use their IDs here
AZURE_CAR_MODEL_ID=CHANGE_ME_IF_USING_CUSTOM_CAR_MODEL
AZURE_RECEIPT_MODEL_ID=CHANGE_ME_IF_USING_CUSTOM_RECEIPT_MODEL

# =====================================================
# PRODUCTION ENVIRONMENT SETTINGS
# =====================================================

# Environment Configuration
ENVIRONMENT=production
DEBUG=false
FORCE_HTTPS=true
LOG_LEVEL=info

# =====================================================
# PRODUCTION SECURITY CONFIGURATION
# =====================================================

# Session Management - Production tuned
SESSION_TIMEOUT_MINUTES=240  # 4 hours for production
MAX_LOGIN_ATTEMPTS=3         # Stricter for production
LOGIN_LOCKOUT_MINUTES=30     # Longer lockout for production

# Security Headers - Maximum protection
ENABLE_SECURITY_HEADERS=true
HSTS_MAX_AGE=31536000  # 1 year HSTS

# Rate Limiting - Production tuned
RATE_LIMIT_REQUESTS=50   # More restrictive for production
RATE_LIMIT_PERIOD=60     # Per minute

# =====================================================
# APPLICATION CONFIGURATION
# =====================================================

# Application Settings
APP_NAME=Credit Card Processor
APP_VERSION=1.0.0

# Production File Limits
MAX_FILE_SIZE_MB=50      # Smaller for production efficiency
MAX_EMPLOYEES=500        # Higher for production capacity

# Production Data Paths
DATABASE_PATH=/app/data/production.db
UPLOAD_PATH=/app/data/uploads
EXPORT_PATH=/app/data/exports

# =====================================================
# PRODUCTION MONITORING & ALERTING
# =====================================================

# Grafana Production Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_SECURE_GRAFANA_PASSWORD

# Production Email Alerts - Configure for your SMTP service
SMTP_HOST=smtp.office365.com  # Change to your SMTP server
SMTP_PORT=587
SMTP_USER=alerts@company.com  # Change to your alert email
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD
SMTP_FROM_EMAIL=creditcard-alerts@company.com
SMTP_USE_TLS=true

# Production Alert Recipients
ALERT_EMAILS=admin@company.com,ops@company.com,security@company.com

# =====================================================
# AZURE INFRASTRUCTURE INTEGRATION
# =====================================================

# Azure Key Vault Integration (for advanced setups)
# Configure if using Azure Key Vault for secret management
# AZURE_KEY_VAULT_URL=https://iius-akv.vault.azure.net/
# AZURE_CLIENT_ID=your-app-registration-client-id
# AZURE_CLIENT_SECRET=your-app-registration-secret
# AZURE_TENANT_ID=your-azure-tenant-id

# Azure Storage (if using for file storage)
# AZURE_STORAGE_ACCOUNT=cssa915121f46f2ae0d374e7
# AZURE_STORAGE_KEY=your-storage-account-key
# AZURE_STORAGE_CONTAINER=credit-card-uploads

# Azure SQL Server (if migrating from SQLite)
# DATABASE_URL=mssql://username:password@INSCOLVSQL:1433/CreditCardProcessor?driver=ODBC+Driver+17+for+SQL+Server

# =====================================================
# KUBERNETES/AKS DEPLOYMENT SETTINGS
# =====================================================

# Container Settings for AKS
API_HOST=0.0.0.0
API_PORT=8000

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_INTERVAL=30

# =====================================================
# PRODUCTION LOGGING & MONITORING
# =====================================================

# Log Configuration
LOG_FILE_PATH=/app/logs/production.log
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# Disable development features
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1

# =====================================================
# DEPLOYMENT CHECKLIST
# =====================================================
# Before deploying to production, ensure:
# 
# 1. SECURITY:
#    □ Changed all CHANGE_ME_ values above
#    □ Generated new SESSION_SECRET_KEY
#    □ Configured actual production admin users
#    □ Set up proper CORS origins for your domains
#    □ Configured HTTPS enforcement
# 
# 2. AZURE INTEGRATION:
#    □ Obtained Azure Document Intelligence keys
#    □ Tested Azure connectivity
#    □ Configured custom models if needed
# 
# 3. MONITORING:
#    □ Set up email alerts
#    □ Configured Grafana access
#    □ Tested alert notifications
# 
# 4. INFRASTRUCTURE:
#    □ Deployed to AKS cluster (dev-aks)
#    □ Configured load balancer
#    □ Set up SSL/TLS certificates
#    □ Configured backup procedures
# 
# 5. VALIDATION:
#    □ Run: python backend/test_config.py
#    □ Check application startup logs
#    □ Verify admin user access
#    □ Test OCR functionality
#    □ Confirm monitoring is working