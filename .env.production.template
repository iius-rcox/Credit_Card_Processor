# Production Environment Configuration Template
# Copy this file to .env.production and update all values
# NEVER commit .env.production to version control

# =============================================================================
# CRITICAL SECURITY SETTINGS - MUST BE CHANGED FOR PRODUCTION
# =============================================================================

# Session Security - GENERATE NEW 32+ CHARACTER SECRET KEY
SESSION_SECRET_KEY=CHANGE_ME_GENERATE_RANDOM_32_CHAR_MINIMUM_SECRET_KEY_FOR_PRODUCTION

# Admin Users - Comma-separated list of admin usernames
ADMIN_USERS=admin,superuser

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment
ENVIRONMENT=production
NODE_ENV=production

# Database Configuration
DATABASE_URL=sqlite:///./data/database.db

# Logging
LOG_LEVEL=info

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Session Management
SESSION_TIMEOUT_MINUTES=60
MAX_LOGIN_ATTEMPTS=3
LOGIN_LOCKOUT_MINUTES=30

# CORS Configuration - Update with your actual domains
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Trusted Hosts - Update with your actual domains
TRUSTED_HOSTS=yourdomain.com,www.yourdomain.com

# Security Headers
ENABLE_SECURITY_HEADERS=true
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# Rate Limiting
RATE_LIMIT_REQUESTS=50
RATE_LIMIT_PERIOD=60

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL Certificate Paths (inside nginx container)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# Monitoring URLs (optional)
MONITORING_WEBHOOK_URL=
ALERT_EMAIL=admin@yourdomain.com

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Backend Workers
BACKEND_WORKERS=2
BACKEND_MAX_CONNECTIONS=100

# Upload Limits (bytes)
MAX_UPLOAD_SIZE=104857600  # 100MB
MAX_REQUEST_SIZE=104857600

# Cache Configuration
REDIS_URL=redis://redis:6379/0
CACHE_TTL=3600

# =============================================================================
# BACKUP AND DATA RETENTION
# =============================================================================

# Database Backup
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Log Retention
LOG_RETENTION_DAYS=90

# Upload File Retention
UPLOAD_RETENTION_DAYS=365

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Email Service (for notifications)
SMTP_HOST=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USER=noreply@yourdomain.com
SMTP_PASSWORD=your_smtp_password
SMTP_TLS=true

# Notification Services
SLACK_WEBHOOK_URL=
TEAMS_WEBHOOK_URL=

# =============================================================================
# DOCKER AND ORCHESTRATION
# =============================================================================

# Container Resource Limits
BACKEND_MEMORY_LIMIT=512m
BACKEND_CPU_LIMIT=1.0
FRONTEND_MEMORY_LIMIT=128m
FRONTEND_CPU_LIMIT=0.5
NGINX_MEMORY_LIMIT=64m
NGINX_CPU_LIMIT=0.25

# Container Health Check
HEALTH_CHECK_START_PERIOD=40s
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Port Configuration
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
BACKEND_INTERNAL_PORT=8001
FRONTEND_INTERNAL_PORT=3000

# Network Names
DOCKER_NETWORK=credit-card-prod-network

# =============================================================================
# DEVELOPMENT OVERRIDES (Remove in production)
# =============================================================================

# Remove these variables in production
# DEBUG=false
# DEVELOPMENT_MODE=false
# MOCK_SERVICES=false